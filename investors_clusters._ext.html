<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Investor & Priority Area Map ‚Äì Ontario (Demo)</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #map {
        height: 100%;
        width: 100%;
      }

      #legend {
        position: absolute;
        bottom: 20px;
        left: 20px;
        background: white;
        padding: 10px 14px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        font-size: 14px;
        line-height: 1.5;
        z-index: 3;
      }

      #header {
        position: absolute;
        top: 10px;
        left: 10px;
        display: flex;
        align-items: center;
        gap: 12px;
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 14px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
        font-family: Arial, sans-serif;
        z-index: 20;
      }

      #header h2 {
        margin: 0;
        font-size: 15px;
        color: #222;
        white-space: nowrap;
      }

      #header button {
        background: #3b5998;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 12px;
      }

      #header button:hover {
        background: #2d4373;
      }

      #filter-box {
        position: absolute;
        top: 70px;
        left: 10px;
        background: white;
        padding: 12px 16px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        font-size: 14px;
        z-index: 10;
        line-height: 1.6;
      }

      #filter-box b {
        display: block;
        margin-bottom: 4px;
        color: #17193b;
      }

      #filter-box label {
        display: block;
        margin: 3px 0;
      }

      #counter {
        margin-top: 8px;
        font-weight: bold;
        text-align: center;
        color: #17193b;
      }
    </style>
  </head>

  <body>
    <div id="header">
      <h2>Investor & Priority Area Map ‚Äì Ontario</h2>
      <button onclick="window.location.href='index.html'">Back to Index</button>
    </div>

    <div id="filter-box">
      <b>Show Clusters:</b>
      <label><input type="checkbox" id="clusterTop" checked> Top Priority</label>
      <label><input type="checkbox" id="clusterHigh" checked> High-Potential</label>
      <label><input type="checkbox" id="clusterPotential" checked> Potential</label>
      <label><input type="checkbox" id="clusterLow" checked> Low-Potential</label>
      <label><input type="checkbox" id="clusterPending" checked> Pending Contact Method</label>
      <label><input type="checkbox" id="clusterNon" checked> Do Not Contact</label>
      <div id="counter">Visible Investors: 0</div>
    </div>

    <div id="map"></div>
    <div id="legend"></div>

    <script>
      async function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 8.3,
          center: { lat: 44.2, lng: -79.9 },
          mapTypeId: "roadmap"
        });

        /* ===========================================================
           2Ô∏è‚É£ REFER√äNCIAS GEOGR√ÅFICAS (Atualizadas)
        =========================================================== */
        const collingwood = { lat: 44.5008, lng: -80.2144 };
        const barrie = { lat: 44.3894, lng: -79.6903 };
        const toronto = { lat: 43.6532, lng: -79.3832 };
        const burlington = { lat: 43.3255, lng: -79.7990 };

        // üîπ Marcadores principais
        [
          { position: collingwood, title: "Collingwood" },
          { position: barrie, title: "Barrie" },
          { position: toronto, title: "Toronto" },
          { position: burlington, title: "Burlington" }
        ].forEach(city => {
          new google.maps.Marker({
            position: city.position,
            map,
            icon: {
              url: "http://maps.google.com/mapfiles/kml/shapes/capital_small.png",
              scaledSize: new google.maps.Size(34, 34)
            },
            title: city.title
          });
        });

        // üîπ C√≠rculos estrat√©gicos
        const circles = [
          { center: collingwood, radius: 40000, label: "Collingwood 40 km" },
          { center: barrie, radius: 20000, label: "Barrie 20 km" },
          { center: toronto, radius: 50000, label: "Toronto 50 km" },
          { center: burlington, radius: 15000, label: "Burlington 15 km" }
        ];

        circles.forEach(area => {
          new google.maps.Circle({
            strokeColor: "#555555",
            strokeOpacity: 0.8,
            strokeWeight: 1,
            fillOpacity: 0.0,
            map,
            center: area.center,
            radius: area.radius
          });
        });

        /* ===========================================================
           4Ô∏è‚É£ LEGENDA COMBINADA (Atualizada)
        =========================================================== */
        const legend = document.getElementById("legend");
        legend.innerHTML = `
          <b>Map Legend</b><br>

          <div style="display:flex;align-items:center;margin-bottom:5px;">
            <div style="width:14px;height:14px;border:1px solid #555;border-radius:50%;margin-right:6px;"></div>
            <b>Toronto area</b> ‚Äì 50 km radius
          </div>

          <div style="display:flex;align-items:center;margin-bottom:5px;">
            <div style="width:14px;height:14px;border:1px solid #555;border-radius:50%;margin-right:6px;"></div>
            <b>Burlington area</b> ‚Äì 15 km radius
          </div>

          <div style="display:flex;align-items:center;margin-bottom:5px;">
            <div style="width:14px;height:14px;border:1px solid #555;border-radius:50%;margin-right:6px;"></div>
            <b>Barrie area</b> ‚Äì 20 km radius
          </div>

          <div style="display:flex;align-items:center;margin-bottom:5px;">
            <div style="width:14px;height:14px;border:1px solid #555;border-radius:50%;margin-right:6px;"></div>
            <b>Collingwood area</b> ‚Äì 40 km radius
          </div>

          <hr style="margin:6px 0;">

          <div style="display:flex;align-items:center;margin-bottom:5px;">
            <span style="color:#FF0000;margin-right:6px;">&#8212;&#8212;&#8212;&#8212;</span>
            Corridor ‚Äì ‚âà15 km buffer along Highways 400 & 10
          </div>

          <b>Investor Clusters</b><br>
          <img src="http://maps.google.com/mapfiles/ms/icons/green-dot.png"> Top Priority<br>
          <img src="http://maps.google.com/mapfiles/ms/icons/blue-dot.png"> High-Potential<br>
          <img src="http://maps.google.com/mapfiles/ms/icons/purple-dot.png"> Potential<br>
          <img src="http://maps.google.com/mapfiles/ms/icons/pink-dot.png"> Low-Potential<br>
          <img src="http://maps.google.com/mapfiles/ms/icons/orange-dot.png"> Pending Contact Method<br>
          <img src="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"> Do Not Contact<br>
        `;
      }
    </script>

    <!-- üîë Google Maps API -->
    <script async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpc7QvLyEbejJL1bwaV--hsQHS1gFFoWg&callback=initMap">
    </script>
  </body>
</html>
